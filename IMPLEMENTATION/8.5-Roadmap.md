**1. Content & Wording**
The roadmap serves as the "Prescription" following the "Diagnosis." The tone is actionable, chronological, and highly personalized.
Component Header:
Headline: AI-Compass: "Next Best Action" Roadmap
Sub-headline: Your personalized pathway to maturity, based on successful "Lookalike" trajectories and critical gap resolution.
Phase 1: Foundation (0-3 Months)
Focus: Cultural alignment and strategic bedrock.
Mandatory Inclusion (from Gap Analysis): "Initiate AI Literacy & Change Management Program to bridge the Talent Gap.
"Actionable Step: Establish a cross-functional AI Steering Committee.
Phase 2: Implementation (3-9 Months)Focus: Scaling infrastructure and delivering use cases.
Success Trajectory Item: "Deploy the first Pilot Use Case identified in the k-NN Peer Benchmark (e.g., Automated Customer Support).
"Actionable Step: Implement a centralized Data Access Layer for AI experimentation.
Phase 3: Optimization (9+ Months)
Focus: Sustainable governance and process automation.
Mandatory Inclusion (from Gap Analysis): "Formalize the AI Code of Conduct and Governance Framework to ensure long-term EU AI Act compliance.
"Actionable Step: Integrate AI-driven performance tracking into core business processes.

**2. Design & UI Specifications**
The UI must visualize a journey, moving from left to right or top to bottom, using a clear timeline metaphor.
Layout:
Timeline Track: A vertical or horizontal "Roadmap Path" with three distinct nodes representing the Phases.
Phase Containers: Distinct cards for each phase, utilizing a "Step-by-Step" numbering system (Step 01, 02, 03).
Visual Elements:
Connectors: Dotted or solid lines connecting the phase nodes to indicate progression.
Highlighting "Must-Win" Battles: Recommendations derived from the Strategic Gap Analysis should be marked with a "Priority" badge or a different border color (e.g., the Critical Red from the Gap Analysis).
Color Palette:
Phase 1 (Light Blue): Representing clarity and beginning.
Phase 2 (Deep Blue): Representing action and depth.
Phase 3 (Purple/Violet): Representing maturity and integration.
Interactive Elements: Hover states on each recommendation that reveal a "Why this matters" tooltip (linking back to the k-NN or Gap logic).

**3. Technical Requirements (MVP Implementation)**
The "Recommendation Engine" must synthesize the Gap Analysis and the k-NN Peer Group data.
Success Trajectory Engine (k-NN Logic):
Query: Search the database for companies with a maturity score $\text{User Score} \times 1.25$.
Extraction: Identify the "Checklist Items" that these lookalikes have completed which the user is still missing.
Ranking: Select the two most common "completed" items from the peer group to populate Phase 2 and 3.
Mandatory Injection Logic:
Trigger: The system must pull the Item_IDs identified in the Strategic Gap Analysis.
Placement: * If the gap is "People/Culture," inject it into Phase 1.
If the gap is "Governance/Technical," inject it into Phase 3.
Phasing Algorithm:
Categorize all potential recommendations into a Tag_Library (e.g., Tag: Foundation, Tag: Implementation, Tag: Optimization).
Ensure the output generates exactly one (1) "Must-Win" Battle and at least one (1) "Peer-Based" recommendation per phase.
Data Integrity: Ensure that no recommendation suggested in the Roadmap is already marked as "Complete" in the user's initial checklist.



# Roadmap ‚Äî Next Best Action (MVP)

# 8.5 Roadmap - ML v5 Implementation

## Overview
The ML v5 Roadmap generates a personalized 3-phase transformation plan based on strategic gaps, dimension scores, and tactical theme prioritization.

---

## 1. Purpose
Create a **3-phase actionable roadmap** with:
- **Phase 1: Foundation** - Cultural alignment and strategic bedrock
- **Phase 2: Implementation** - Scaling infrastructure and use cases
- **Phase 3: Scale & Governance** - Sustainable governance and optimization

Each phase contains **theme-specific recommendations** with detailed explanations.

---

## 2. Generation Logic

### 2.1 Phase Assignment Algorithm

**PHASE_MAPPING** (predefined):
```python
{
    "Staff Proficiency": "Phase 1: Foundation",
    "Leadership Alignment": "Phase 1: Foundation",
    "Data Privacy": "Phase 1: Foundation",
    "Data Types": "Phase 1: Foundation",
    "Strategic Priority": "Phase 2: Implementation",
    "Execution Maturity": "Phase 2: Implementation",
    "AI Tooling Stack": "Phase 2: Implementation",
    "Competitive Ambition": "Phase 2: Implementation",
    "Standardization": "Phase 3: Scale & Governance",
    "Governance": "Phase 3: Scale & Governance"
}
```

### 2.2 Recommendation Selection

**Priority Order**:
1. **Strategic Gaps** (from Gap Analysis) - Highest priority
2. **Growth Opportunities** (dimension-based) - Secondary priority

**Selection Criteria**:
- Top 3-4 recommendations total
- Distributed across 3 phases
- Sorted by impact score within each phase

---

## 3. Output Format

### 3.1 API Response Structure
```json
{
  "transformation_roadmap": {
    "briefing": "Executive summary of roadmap approach...",
    "phases": {
      "phase_1": {
        "name": "Foundation",
        "description": "",
        "recommendations": [
          {
            "theme": "Staff Proficiency",
            "source": "Strategic Gap (Critical)",
            "impact_score": 11.2,
            "dimension": "Data Readiness & Literacy",
            "explanation": "**Analysis**: ...\n    - **Action 1**: ...\n    - **Action 2**: ..."
          }
        ]
      },
      "phase_2": {...},
      "phase_3": {...}
    }
  }
}
```

### 3.2 Recommendation Explanation Format

Each recommendation includes a **3-part explanation**:

**Structure**:
```
**Analysis**: [Brief gap/situation analysis]
    - **Action 1**: [First specific, actionable step]
    - **Action 2**: [Second specific, actionable step with timeline]
```

**Example**:
```
**Analysis**: Your Staff Proficiency capability (score: 2.7) is 15% below industry 
average (3.2), creating a critical bottleneck.
    - **Action 1**: Design and deploy comprehensive AI literacy programs for all 
      staff levels, including hands-on workshops and certification tracks.
    - **Action 2**: Create internal AI champions network and mentorship programs to 
      accelerate skill development and knowledge transfer across teams.
```

---

## 4. Theme-Specific Actions

### 4.1 Implementation
ML v5 uses `_get_theme_specific_actions()` to generate **unique, contextual recommendations** for each theme.

**Theme Categories**:
- **Staff Proficiency**: AI literacy programs, certification tracks, champions network
- **Leadership Alignment**: Executive workshops, steering committees, governance
- **Data Privacy**: Governance framework, privacy-by-design, impact assessments
- **Data Types**: Data quality programs, infrastructure expansion, cataloging
- **Strategic Priority**: Define priorities, strategic roadmap, review cycles
- **Standardization**: MLOps practices, process documentation, centers of excellence
- **Governance**: Governance structure, compliance audits, policy updates
- **Tech Infrastructure**: Cloud platforms, infrastructure-as-code, DevOps pipelines
- **Execution Maturity**: Agile frameworks, success metrics, improvement processes
- **AI Tooling Stack**: Standardize tools, enterprise platforms, training
- **Competitive Ambition**: Positioning strategy, innovation culture, hackathons

### 4.2 Fallback Logic
If theme not in predefined list, generates generic actions based on:
- Source type (Strategic Gap vs Growth Opportunity)
- Gap percentage (>10% vs <10%)

---

## 5. Roadmap Briefing

### 5.1 Structure
```
### üó∫Ô∏è AI-Compass: Your 3-Phase Transformation Roadmap

To ensure a sustainable and high-ROI journey into AI, we recommend a phased approach 
that prioritizes foundational stability before complex technical scaling.

**Phase 1: Laying the Foundation**
Your first priority is [themes]. By focusing here, we ensure that your organizational 
data and culture are robust enough to support automation without creating friction.

**Phase 2: Targeted Implementation**
Once the foundation is secure, we move to [themes]. These areas have been identified 
as your highest-leverage opportunities, directly bridging the gap between your current 
status and the performance of industry leaders.

**Phase 3: Strategic Scaling**
The final phase focuses on [themes]. This is where we transition from single use-cases 
to an AI-driven operational model, ensuring long-term resilience and governance.

**Success Metric**: Completion of this roadmap will move your total maturity from its 
current level into the top 20% of your industry peer group.
```

---

## 6. Key Differences from Original Spec

### 6.1 What's Different
| Aspect | Original Spec | ML v5 Implementation |
|--------|---------------|---------------------|
| Phase 3 Name | Optimization | Scale & Governance |
| Timeframes | 0-3M, 3-9M, 9+M | Not specified |
| Item Tags | `must_win`, `peer_based` | `source` field |
| Success Trajectory | k-NN based (1.25x) | Not implemented |
| Peer Recommendations | From lookalikes | Not implemented |

### 6.2 What's Enhanced
- ‚úÖ **Theme-specific explanations** with detailed actions
- ‚úÖ **Impact scoring** for each recommendation
- ‚úÖ **Dimension attribution** for traceability
- ‚úÖ **Bullet-point formatted** Analysis + 2 Actions
- ‚úÖ **Executive briefing** synthesis

---

## 7. Frontend Integration

### 7.1 Display Requirements

**Timeline Layout**:
- 3 phase cards (horizontal or vertical)
- Connectors between phases
- Step numbers: 01, 02, 03

**Each Recommendation Card**:
- **Theme**: Title (e.g., "Staff Proficiency")
- **Source**: Badge showing "Strategic Gap (Critical)" or "Growth Opportunity"
- **Impact Score**: Numeric value (e.g., 11.2)
- **Explanation**: Formatted with Analysis + 2 Actions
- **Dimension**: Associated dimension name

### 7.2 Timeframe Mapping (for Frontend)
```javascript
const PHASE_TIMEFRAMES = {
  "phase_1": "0‚Äì3 Months",
  "phase_2": "3‚Äì9 Months",
  "phase_3": "9+ Months"
};
```

### 7.3 Tag Classification (for Frontend)
```javascript
function getRecommendationTag(source, impactScore) {
  if (source.includes("Strategic Gap (Critical)") && impactScore > 10) {
    return "must_win";
  } else if (source.includes("Growth Opportunity")) {
    return "peer_based";
  } else {
    return "tactical";
  }
}
```

### 7.4 Styling Recommendations
- **Must-Win**: Red/Orange accent, "Priority" badge
- **Peer-Based**: Blue accent, "Opportunity" badge
- **Tactical**: Gray accent, no badge

---

## 8. Technical Implementation

### 8.1 Model Class
`RoadmapGenerator` in `models.py`

**Methods**:
- `fit(dim_data, question_data)`: Learn peer benchmarks
- `generate(company_id, company_dim_series, company_question_df, strategic_gaps)`: Create roadmap
- `synthesize_briefing(roadmap)`: Generate executive summary
- `_generate_explanation(theme, dimension, source, ...)`: Create theme-specific explanation

### 8.2 Data Requirements
**Inputs**:
- `company_dim_series`: Company's 7 dimension scores
- `company_question_df`: Question-level data with themes
- `strategic_gaps`: Findings from Gap Analysis

**Outputs**:
- Roadmap dict with 3 phases
- Briefing text

---

## 9. Example Output

```json
{
  "transformation_roadmap": {
    "briefing": "### üó∫Ô∏è AI-Compass: Your 3-Phase Transformation Roadmap\n\nTo ensure a sustainable and high-ROI journey into AI, we recommend a phased approach that prioritizes foundational stability before complex technical scaling.\n\n**Phase 1: Laying the Foundation**\nYour first priority is **Staff Proficiency, Leadership Alignment**. By focusing here, we ensure that your organizational data and culture are robust enough to support automation without creating friction.\n\n**Phase 2: Targeted Implementation**\nOnce the foundation is secure, we move to **Strategic Priority**. These areas have been identified as your highest-leverage opportunities, directly bridging the gap between your current status and the performance of industry leaders.\n\n**Phase 3: Strategic Scaling**\nThe final phase focuses on **Standardization**. This is where we transition from single use-cases to an AI-driven operational model, ensuring long-term resilience and governance.\n\n**Success Metric**: Completion of this roadmap will move your total maturity from its current level into the top 20% of your industry peer group.",
    "phases": {
      "phase_1": {
        "name": "Foundation",
        "description": "",
        "recommendations": [
          {
            "theme": "Staff Proficiency",
            "source": "Strategic Gap (Critical)",
            "impact_score": 11.2,
            "dimension": "Data Readiness & Literacy",
            "explanation": "**Analysis**: While Staff Proficiency shows moderate performance (score: 2.7), strategic analysis identifies this as a high-impact priority.\n    - **Action 1**: Design and deploy comprehensive AI literacy programs for all staff levels, including hands-on workshops and certification tracks.\n    - **Action 2**: Create internal AI champions network and mentorship programs to accelerate skill development and knowledge transfer across teams."
          },
          {
            "theme": "Leadership Alignment",
            "source": "Strategic Gap (Critical)",
            "impact_score": 10.8,
            "dimension": "Strategy & Business Vision",
            "explanation": "**Analysis**: While Leadership Alignment shows moderate performance (score: 3.0), strategic analysis identifies this as a high-impact priority.\n    - **Action 1**: Conduct executive AI strategy workshops to align leadership vision, establish clear AI governance, and secure C-suite commitment.\n    - **Action 2**: Implement quarterly AI steering committee meetings with defined decision-making authority and resource allocation frameworks."
          }
        ]
      },
      "phase_2": {
        "name": "Implementation",
        "description": "",
        "recommendations": [
          {
            "theme": "Strategic Priority",
            "source": "Growth Opportunity",
            "impact_score": 10.8,
            "dimension": "Use Cases & Business Value",
            "explanation": "**Analysis**: Your Strategic Priority performance (score: 3.6) is competitive, but targeted improvements will differentiate your AI maturity.\n    - **Action 1**: Define clear AI strategic priorities aligned with business objectives and establish a prioritization framework for AI initiatives.\n    - **Action 2**: Create a strategic AI roadmap with measurable outcomes and regular review cycles to ensure alignment with evolving business needs."
          }
        ]
      },
      "phase_3": {
        "name": "Scale & Governance",
        "description": "",
        "recommendations": [
          {
            "theme": "Standardization",
            "source": "Growth Opportunity",
            "impact_score": 10.8,
            "dimension": "Processes & Scaling",
            "explanation": "**Analysis**: Your Standardization performance (score: 3.6) is competitive, but targeted improvements will differentiate your AI maturity.\n    - **Action 1**: Develop and document standardized AI development processes, including MLOps practices, testing protocols, and deployment procedures.\n    - **Action 2**: Implement process automation tools and establish centers of excellence to ensure consistent quality and scalability across AI projects."
          }
        ]
      }
    }
  }
}
```

---

## 10. Future Enhancements

### 10.1 Planned Features (Not Yet Implemented)
- **k-NN Success Trajectory**: Find companies with 1.25x maturity score and extract their completed items
- **Peer-Based Recommendations**: Extract recommendations from lookalike companies
- **De-duplication Logic**: Prevent repeated recommendations across phases
- **Step Numbering**: Add explicit step numbers (01, 02, 03)
- **"Why this matters" tooltips**: Additional context for each recommendation

### 10.2 Implementation Priority
1. Add timeframes to phase output (easy)
2. Add tag classification logic (easy)
3. Implement k-NN success trajectory (medium)
4. Add peer-based recommendations (medium)
