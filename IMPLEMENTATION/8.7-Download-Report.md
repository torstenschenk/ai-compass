PDF Download Module

## Purpose
Provide a single, high-confidence call-to-action on the Results page to download the **dynamic** response PDF.

## 1) Copy (exact text)
- **Headline:** `Download Your Complete Report`
- **Sub-headline:** `Get a comprehensive PDF version of your AI maturity assessment for offline review and team sharing.`
- **CTA button:** `Download Full Report` (leading download icon)
- **Feature bullets (3):**
  - `Complete Analysis: All sections with detailed insights.`
  - `Visual Charts: High-quality graphics included.`
  - `Shareable: Perfect for stakeholder meetings.`

---

## 2) UI / Layout (Nano Banana)
- **Container:** centered white card with subtle glow/shadow  
  - `box-shadow: 0 4px 20px rgba(0,0,0,0.08)`
  - `border-radius: 16px`
  - `padding: 48px` (reduce on mobile)
- **Top icon:** blue document icon in light-blue circular background `#EFF6FF`
- **Checkmarks:** green circular outline checkmarks `#22C55E`
- **Button:**
  - background: gradient `#3B82F6 → #A855F7`
  - text: white, bold
  - hover: `scale(1.02)` + slightly brighter

### Structure
- Vertical stack: **[Icon] → [Headline] → [Sub-headline] → [CTA Button]**
- Bottom row: **3-column feature grid** (mobile: collapses into vertical list)

---

## 3) Data & Trigger Behavior (MVP)

### Frontend
- Component lives on Results page
- CTA triggers **one action only**: start PDF download
- While downloading/generating: show button state `Downloading…` and disable the button

### Data source
- Use the **already-loaded** Results payload:
  - `GET /api/v1/responses/{response_id}?token={access_token}`
- Do **not** re-run calculations in the client

---

## 4) PDF Generation (Server-side endpoint)

**Recommended approach:**
Server-side PDF endpoint (consistent with backend-first approach and deterministic reproducibility):

- `GET /api/v1/responses/{response_id}/pdf?token={access_token}`
- Response headers:
  - `Content-Type: application/pdf`
  - `Content-Disposition: attachment; filename="AI_Compass_Report_{CompanyName}_{YYYY-MM-DD}.pdf"`

**Client responsibility:** call the endpoint and download the blob.

### Why server-side for MVP
- Guarantees identical output regardless of browser/device
- Easy to embed charts as images generated on backend
- Avoids html2canvas quirks (fonts, DPI, layout drift)

---

## 5) Output Requirements

### Filename convention
`AI_Compass_Report_[CompanyName]_[Date].pdf`

### Quality
- Charts must be embedded at **print-safe resolution** (target 300 DPI equivalent)

### Must include (minimum):
- Company snapshot (from `companies` table) + date
- Overall score (from `responses.total_score`) displayed as `2.6/5`
- Company cluster (from `cluster_profiles` via `responses.cluster_id`)
- Percentile (computed dynamically)
- Cluster profile visualization (5 clusters)
- Radar chart (7 dimensions - computed from response data)
- Strategic Gap Analysis (2 items)
- Roadmap (3 phases)
- Footer metadata:
  - Response ID
  - Date generated
  - Scoring engine version
  - ML model version (if applicable)

---

## 6) Error Handling
- If PDF endpoint fails:
  - show non-blocking error toast: `Download failed. Please try again.`
  - keep user on Results page (no navigation changes)